---
title: "Introduction to 'eva' and its capabilities"
author: Brian Bader
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to 'eva' and its capabilities}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

# The eva Package

## Efficient handling of near-zero shape parameter

```{r shape}
# load package
library(eva)

# A naive implementation of the GEV cumulative density function
pgev_naive <- function (q, loc = 0, scale = 1, shape = 1) 
{
    exp(-(1 + (shape * (q - loc))/scale)^(-1/shape))
}


curve(pgev_naive(1, 0, 1, x), 1e-20, .01, log = "x", n = 1025)
curve(eva:::pgev(1, 0, 1, x),  1e-20, .01, log = "x", n = 1025)

# Similarly for the GPD cdf

pgpd_naive <- function (q, loc = 0, scale = 1, shape = 1) 
{
    (1 - (1 + (shape * (q - loc))/scale)^(-1/shape))
}

curve(pgpd_naive(1, 0, 1, x), 1e-20, .01, log = "x", n = 1025)
curve(eva:::pgpd(1, 0, 1, x),  1e-20, .01, log = "x", n = 1025)


```

## The GEVr distribution

```{r rgevr}





```


